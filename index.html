<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Simon Nonnis | Keep it simple</title>
    <meta
      name="description"
      content="I'm Simon Nonnis, a frontend developer that loves coding."
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <script>
      if (
        localStorage.getItem("color-mode") === "dark" ||
        window.matchMedia("(prefers-color-scheme: dark)").matches
      ) {
        document.documentElement.classList.add("dark");
      } else {
        document.documentElement.classList.remove("dark");
      }
    </script>

    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="apple-touch-icon" href="/icon.png" />
    <link rel="stylesheet" href="src/css/index.css" />
  </head>

  <body
    class="font-mono w-screen h-full bg-stone-900 text-stone-200 flex place-items-center"
  >
    <div class="m-auto">
      <vite-partial src="src/partials/header.html" />

      <!-- INTRO -->
      <vite-partial src="src/partials/intro.html" />
      <vite-partial src="src/partials/divider.html" />
      <!-- ABOUT -->
      <vite-partial src="src/partials/about.html" />
      <vite-partial src="src/partials/divider.html" />
      <!-- WORK -->
      <vite-partial src="src/partials/work.html" />
      <vite-partial src="src/partials/divider.html" />
      <!-- CONTACT -->
      <vite-partial src="src/partials/contact.html" />
      <vite-partial src="src/partials/divider.html" />

      <vite-partial src="src/partials/footer.html" />
    </div>
  </body>

  <script>
    var buttonLight = document.getElementById("button-light");
    var buttonDark = document.getElementById("button-dark");

    if (
      localStorage.getItem("color-mode") === "dark" ||
      window.matchMedia("(prefers-color-scheme: dark)").matches
    ) {
      buttonLight.classList.remove("toogle-theme");
      buttonDark.classList.add("toogle-theme");
    } else {
      buttonLight.classList.add("toogle-theme");
      buttonDark.classList.remove("toogle-theme");
    }

    buttonLight.addEventListener("click", function () {
      if (!("color-mode" in localStorage)) {
        document.documentElement.classList.remove("dark");
        buttonDark.classList.remove("toogle-theme");
        this.classList.add("toogle-theme");

        localStorage.setItem("color-mode", "light");
      }

      if (localStorage.getItem("color-mode") === "dark") {
        document.documentElement.classList.remove("dark");
        buttonDark.classList.remove("toogle-theme");
        this.classList.add("toogle-theme");

        localStorage.setItem("color-mode", "light");
      }
    });

    buttonDark.addEventListener("click", function () {
      if (!("color-mode" in localStorage)) {
        document.documentElement.classList.add("dark");
        buttonLight.classList.remove("toogle-theme");
        this.classList.add("toogle-theme");

        localStorage.setItem("color-mode", "dark");
      }

      if (localStorage.getItem("color-mode") === "light") {
        document.documentElement.classList.add("dark");
        buttonLight.classList.remove("toogle-theme");
        this.classList.add("toogle-theme");

        localStorage.setItem("color-mode", "dark");
      }
    });
  </script>
</html>
